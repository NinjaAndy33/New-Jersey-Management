const { SlashCommandBuilder, PermissionFlagsBits } = require('discord.js');
const 


module.exports = {
  data: new SlashCommandBuilder()
    .setName('slowmode')
    .setDescription('Set the slowmode delay for the current channel.')
    .addIntegerOption(option =>
      option.setName('seconds')
        .setDescription('Number of seconds for slowmode (0 to disable)')
        .setRequired(true)
    )
    .setDefaultMemberPermissions(PermissionFlagsBits.ManageChannels),

  async execute(interaction) {
    const seconds = interaction.options.getInteger('seconds');
    const channel = interaction.channel;

    try {
      await channel.setRateLimitPerUser(seconds);
      await interaction.reply({
        content: `⏱️ Slowmode has been set to **${seconds} seconds** in ${channel}.`,
        ephemeral: true
      });
    } catch (error) {
      console.error('Error setting slowmode:', error);
      await interaction.reply({
        content: '❌ Failed to set slowmode. Make sure I have permission to manage this channel.',
        ephemeral: true
      });
    }
  }
};
